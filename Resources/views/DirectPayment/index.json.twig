{% trans_default_domain "dzangocart" %}

{% set payment_types = { 1: 'dzangocart.direct_payments.pay_by.wire_transfer', 2: 'dzangocart.direct_payments.pay_by.cheque' } %}
{% spaceless %}
{
    "draw": "{{ app.request.query.all.draw }}",
    "recordsTotal": 0,
    "recordsFiltered": 0,
    "data" : [
        {% for payment in data %}
            {
                "DT_RowId":     "{{ 'p_' ~ payment.id }}",
                "DT_RowClass":  "{{ 'payment' }}",
                "check":        "",
                "date":         "{{ payment.date|localizeddate('medium', 'none', app.request.locale, null, 'dd.MM.yyyy') }}",
                "order_id":     "{{ payment.order_id }}",
                "amount":       "{{ payment.amount|currency(payment.currency_id, app.request.locale) }}",
                "bank":         "{{ payment.bank }}",
                "type":         "{{ payment_types[payment.type]|trans }}",
                "check_number": "{{ payment.cheque_number }}",
                "test":         "{{ payment.test }}",
                "actions":      ""
            }{% if not loop.last %},{% endif %}
        {% endfor %}
    ]
}
{% endspaceless %}
